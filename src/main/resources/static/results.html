<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Results | SMS</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif}
body{
min-height:100vh;
background:
radial-gradient(circle at top left, rgba(56,189,248,.15), transparent 40%),
radial-gradient(circle at bottom right, rgba(99,102,241,.15), transparent 40%),
linear-gradient(135deg,#020617,#0f172a,#020617);
color:#fff;
}

/* SIDEBAR */
.sidebar{
width:240px;height:100vh;position:fixed;
background:linear-gradient(180deg,#0d47a1,#1976d2);
padding-top:20px
}
.sidebar h2{text-align:center;color:#38bdf8;margin-bottom:25px}
.sidebar a{
display:block;padding:14px 22px;color:#fff;
text-decoration:none;transition:.3s
}
.sidebar a:hover{background:rgba(255,255,255,.15);padding-left:30px}
.sidebar i{margin-right:10px}

/* MAIN */
.main{margin-left:240px;padding:25px}

/* TOPBAR */
.topbar{
background:rgba(15,23,42,.95);
padding:18px 22px;border-radius:16px;
display:flex;justify-content:space-between;align-items:center
}
.topbar input{
padding:10px 14px;width:260px;
border-radius:10px;border:none;
background:#020617;color:#fff
}

/* CARD */
.card{
margin-top:25px;
background:rgba(15,23,42,.95);
padding:25px;border-radius:18px
}

/* BUTTON */
button{
background:#1976d2;color:#fff;border:none;
padding:10px 20px;border-radius:10px;
cursor:pointer
}
button:hover{background:#0d47a1}

/* TABLE */
table{width:100%;border-collapse:collapse;margin-top:20px}
th,td{
padding:14px;
border-bottom:1px solid rgba(255,255,255,.12)
}
th{color:#38bdf8;text-align:left}

/* ACTION */
.action i{
cursor:pointer;margin-right:15px;font-size:18px
}
.edit{color:#4caf50}
.delete{color:#f44336}

/* MODAL */
.modal{
display:none;position:fixed;inset:0;
background:rgba(0,0,0,.75);
justify-content:center;align-items:center
}
.modal-content{
background:#0f172a;padding:25px;width:380px;
border-radius:16px
}
.modal-content input,.modal-content select{
width:100%;padding:10px;margin-bottom:12px;
border-radius:10px;border:none;
background:#020617;color:#fff
}
</style>
</head>

<body>

<!-- SIDEBAR -->
<div class="sidebar">
<h2>ðŸŽ“ SMS</h2>
<a href="dashboard.html"><i class="fa fa-home"></i> Dashboard</a>
<a href="students.html"><i class="fa fa-users"></i> Students</a>
<a href="course.html"><i class="fa fa-graduation-cap"></i> Courses</a>
<a href="faculty.html"><i class="fa fa-chalkboard-teacher"></i> Faculty</a>
<a href="department.html"><i class="fa fa-building"></i> Departments</a>
<a href="library.html"><i class="fa fa-book"></i> Library</a>
<a href="attendance.html"><i class="fa fa-calendar-check"></i> Attendance</a>
<a href="#"><i class="fa fa-file-alt"></i> Results</a>
<a href="login.html"><i class="fa fa-sign-out"></i> Logout</a>
</div>

<!-- MAIN -->
<div class="main">

<div class="topbar">
<strong>Student Results Management</strong>
<input type="text" id="search" placeholder="Search..." onkeyup="searchResult()">
</div>

<div class="card">
<button onclick="openAdd()">+ Add Result</button>

<table id="resultTable">
<tr>
<th>ID</th>
<th>Student Name</th>
<th>Course</th>
<th>Marks</th>
<th>Grade</th>
<th>Action</th>
</tr>
</table>
</div>

</div>

<!-- MODAL -->
<div class="modal" id="modal">
<div class="modal-content">
<h3 id="title">Add Result</h3>
<input id="sname" placeholder="Student Name">
<input id="course" placeholder="Course">
<input id="marks" type="number" placeholder="Marks">
<select id="grade">
<option value="">Select Grade</option>
<option>A+</option>
<option>A</option>
<option>B+</option>
<option>B</option>
<option>C</option>
<option>Fail</option>
</select>
<button onclick="save()">Save</button>
<button onclick="closeModal()" style="background:#555;margin-left:10px">Cancel</button>
</div>
</div>

<script>
let results=JSON.parse(localStorage.getItem("results"))||[];
let editIndex=null;

function render(){
const t=document.getElementById("resultTable");
t.innerHTML=`<tr>
<th>ID</th><th>Student Name</th><th>Course</th><th>Marks</th><th>Grade</th><th>Action</th>
</tr>`;
results.forEach((r,i)=>{
t.insertRow().innerHTML=`
<td>${i+1}</td>
<td>${r.sname}</td>
<td>${r.course}</td>
<td>${r.marks}</td>
<td>${r.grade}</td>
<td class="action">
<i class="fa fa-edit edit" onclick="edit(${i})"></i>
<i class="fa fa-trash delete" onclick="del(${i})"></i>
</td>`;
});
localStorage.setItem("results",JSON.stringify(results));
}

function openAdd(){
editIndex=null;
title.innerText="Add Result";
sname.value="";course.value="";marks.value="";grade.value="";
modal.style.display="flex";
}

function edit(i){
editIndex=i;
title.innerText="Edit Result";
sname.value=results[i].sname;
course.value=results[i].course;
marks.value=results[i].marks;
grade.value=results[i].grade;
modal.style.display="flex";
}

function save(){
if(!sname.value||!course.value||!marks.value||!grade.value)
return alert("All fields required");
const r={
sname:sname.value,
course:course.value,
marks:marks.value,
grade:grade.value
};
editIndex===null?results.push(r):results[editIndex]=r;
closeModal();render();
}

function del(i){
if(confirm("Delete result?")){
results.splice(i,1);render();
}
}

function closeModal(){modal.style.display="none"}

function searchResult(){
const v=search.value.toLowerCase();
document.querySelectorAll("#resultTable tr").forEach((r,i)=>{
if(i===0)return;
r.style.display=r.innerText.toLowerCase().includes(v)?"":"none";
});
}

render();
</script>

</body>
</html>
